openapi: 3.0.0
info:
  title: Cart API
  version: 1.0.0
  description: REST API to manage products, carts and authentication

tags:
  - name: Products
    description: Product management endpoints
  - name: Carts
    description: Cart management endpoints
  - name: Auth
    description: Authentication endpoints

paths:
  /api/products:
    get:
      tags:
        - Products
      summary: Get all products
      description: Returns a paginated list of products
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number (starts at 1)
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
          description: Number of products per page
        - name: query
          in: query
          schema:
            type: string
          description: Search term to filter products (e.g. by title, brand, etc.)
        - name: sort
          in: query
          schema:
            type: string
            enum: [asc, desc]
            default: asc
          description: Sort order by price or other criteria
      responses:
        "200":
          $ref: "#/components/responses/AllProductsFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

    post:
      tags:
        - Products
      summary: Create a new product
      description: Creates a new product from the request body
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Product"
      responses:
        "201":
          $ref: "#/components/responses/ProductCreated"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/products/{pid}:
    get:
      tags:
        - Products
      summary: Get product by ID
      description: Returns a product by ID
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the product
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/ProductFound"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

    put:
      tags:
        - Products
      summary: Update product by ID
      description: Updates a product by ID
      parameters:
        - name: pid
          in: path
          required: true
          description: The ID of the product
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Product"
      responses:
        "200":
          $ref: "#/components/responses/ProductUpdated"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

    delete:
      tags:
        - Products
      summary: Delete product by ID
      description: Deletes a product by ID
      parameters:
        - name: pid
          in: path
          required: true
          description: The ID of the product
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/ProductDeleted"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/carts:
    post:
      tags:
        - Carts
      summary: Create a new empty cart
      description: Creates a new shopping cart with an empty product list.
      requestBody:
        required: false
      responses:
        "201":
          $ref: "#/components/responses/CartCreated"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/carts/{cid}:
    get:
      tags:
        - Carts
      summary: Get cart by ID
      description: Returns a cart by ID
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the cart
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/CartFound"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

    put:
      tags:
        - Carts
      summary: Replace all products in a cart
      description: Replaces all products in a cart
      parameters:
        - name: cid
          in: path
          required: true
          description: The ID of the cart
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Cart"
      responses:
        "200":
          $ref: "#/components/responses/CartUpdated"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/carts/{cid}/product/{pid}:
    post:
      tags:
        - Carts
      summary: Add a product to a cart
      description: Adds a product to an existing cart. If the product is already in the cart, it may increase the quantity (segÃºn la lÃ³gica del servicio).
      parameters:
        - name: cid
          in: path
          required: true
          description: The ID of the cart
          schema:
            type: string
        - name: pid
          in: path
          required: true
          description: The ID of the product
          schema:
            type: string
      responses:
        "201":
          $ref: "#/components/responses/CartProductAdded"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

    put:
      tags:
        - Carts
      summary: Update quantity of a product in a cart
      description: Updates the quantity of a specific product in a given cart.
      parameters:
        - name: cid
          in: path
          required: true
          description: The ID of the cart
          schema:
            type: string
        - name: pid
          in: path
          required: true
          description: The ID of the product
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - quantity
              properties:
                quantity:
                  type: integer
                  minimum: 1
                  example: 3
      responses:
        "200":
          $ref: "#/components/responses/CartProductUpdated"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

    delete:
      tags:
        - Carts
      summary: Remove a product from a cart
      description: Deletes a product from the specified cart.
      parameters:
        - name: cid
          in: path
          required: true
          description: The ID of the cart
          schema:
            type: string
        - name: pid
          in: path
          required: true
          description: The ID of the product
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/CartProductDeleted"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/auth/register:
    post:
      summary: Register a new user
      tags:
        - Auth
      description: Creates a new user with local authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegisterUserInput"
      responses:
        "201":
          $ref: "#/components/responses/AuthRegister"
        "400":
          $ref: "#/components/responses/RegisterBadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/auth/login:
    post:
      summary: Log in an existing user
      tags:
        - Auth
      description: Logs in an existing user with local authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginUserInput"
      responses:
        "200":
          $ref: "#/components/responses/AuthLogin"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/auth/forgot-password:
    post:
      summary: Request password reset
      tags:
        - Auth
      description: Sends a password reset email to the user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ForgotPasswordInput"
      responses:
        "200":
          $ref: "#/components/responses/AuthForgotPassword"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/auth/reset-password:
    post:
      summary: Reset password
      tags:
        - Auth
      description: Resets the user's password
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResetPasswordInput"
      responses:
        "200":
          $ref: "#/components/responses/AuthResetPassword"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/user/me:
    get:
      summary: Get currently authenticated user profile
      description: Returns the authenticated user's profile, excluding password and internal fields.
      tags:
        - User
      security:
        - bearerAuth: []
      responses:
        "200":
          $ref: "#/components/responses/UserProfileFound"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/user:
    put:
      summary: Update user profile
      description: Updates the authenticated user's profile, excluding password and internal fields.
      tags:
        - User
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserProfileInput"
      responses:
        "200":
          $ref: "#/components/responses/UserProfileUpdated"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/user/soft:
    delete:
      summary: Soft delete user profile
      description: Soft deletes the authenticated user's profile, adding deletedAt field with current date
      tags:
        - User
      security:
        - bearerAuth: []
      responses:
        "200":
          $ref: "#/components/responses/UserProfileDeleted"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/user/{userId}/hard:
    delete:
      summary: Permanently delete a user profile (admin only)
      description: |
        Permanently deletes the specified user profile from the database.  
        This action is irreversible and requires **admin** privileges.
      tags:
        - User
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          description: The ID of the user to delete
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/UserProfileDeleted"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/address:
    post:
      tags:
        - Address
      summary: Create a new address
      description: Creates a new address for the authenticated user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Address"
      responses:
        "201":
          $ref: "#/components/responses/AddressCreated"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/address/{addressId}:
    get:
      tags:
        - Address
      summary: Get address by ID
      description: Returns an address by ID
      parameters:
        - name: addressId
          in: path
          required: true
          description: The ID of the address
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/AddressFound"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

    put:
      tags:
        - Address
      summary: Update address by ID
      description: Updates an address by ID
      parameters:
        - name: addressId
          in: path
          required: true
          description: The ID of the address
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddressAddInput"
      responses:
        "200":
          $ref: "#/components/responses/AddressUpdated"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

    delete:
      tags:
        - Address
      summary: Delete address by ID
      description: Deletes an address by ID
      parameters:
        - name: addressId
          in: path
          required: true
          description: The ID of the address
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/AddressDeleted"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

  /api/address/{addressId}/default:
    patch:
      tags:
        - Address
      summary: Update default address
      description: Updates an address as default for the authenticated user
      parameters:
        - name: addressId
          in: path
          required: true
          description: The ID of the address
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddressDefaultInput"
      responses:
        "200":
          $ref: "#/components/responses/AddressDefaultSet"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    # ðŸ“¦ Base models (pure data)
    ProductFeatures:
      type: object
      required: [fabric, pattern, fit, neck, sleeve, style]
      properties:
        fabric:
          type: string
          enum: [cotton, polyester, wool, linen, denim, leather]
          required: true
        pattern:
          type: string
          enum: [solid, striped, printed, floral]
          required: true
        fit:
          type: string
          enum: [regular, slim, loose]
          required: true
        neck:
          type: string
          enum: [round, v-neck]
          required: true
        sleeve:
          type: string
          enum: [short, long]
          required: true
        style:
          type: string
          enum: [classic, casual, business, sport, elegant, formal]
          required: true

    Product:
      type: object
      required:
        [
          code,
          title,
          description,
          brand,
          features,
          sizes,
          colours,
          price,
          status,
          stock,
          categories,
          thumbnails,
        ]
      properties:
        code:
          type: string
        title:
          type: string
        description:
          type: string
        brand:
          type: string
          enum: [naikis, adwidas, poma, rwebook]
          required: true
        features:
          $ref: "#/components/schemas/ProductFeatures"
        sizes:
          type: array
          items:
            type: string
            enum: [XS, S, M, L, XL]
        colours:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                enum: [black, yellow, pink, red]
              available:
                type: boolean
        price:
          type: number
          example: 39.99
        stock:
          type: integer
          example: 10
        categories:
          type: array
          items:
            type: string
            enum:
              [electronics, fashion, home, sports, beauty, games, books, music]
        thumbnails:
          type: array
          items:
            type: string
            example: "https://example.com/image.jpg"

    CartProduct:
      type: object
      required: [product, quantity]
      properties:
        product:
          type: string
          description: Product ID (MongoDB ObjectId)
          example: "64e3cfc2b567b3c5fcd36b92"
        quantity:
          type: integer
          minimum: 1
          example: 2

    Cart:
      type: object
      required: [products]
      properties:
        products:
          type: array
          items:
            $ref: "#/components/schemas/CartProduct"
        deletedAt:
          type: string
          format: date-time
          example: "2024-01-01T00:00:00.000Z"

    User:
      type: object
      properties:
        firstName:
          type: string
          example: "Jane"
        lastName:
          type: string
          example: "Doe"
        email:
          type: string
          format: email
          example: "jane.doe@example.com"
        password:
          type: string
          format: password
          example: "StrongPass123!"
        phoneNumber:
          type: string
          example: "666666666"
        role:
          type: string
          enum: [admin, user]
          default: user
          example: user
        authProvider:
          type: string
          enum: [local, google, github]
          default: local
          example: local
        googleId:
          type: string
          example: "1098247023048234028304"
        cart:
          type: string
          example: 64f1a2cfe2a83c0012345679
          description: ObjectId referencing the cart
        addresses:
          type: array
          maxItems: 5
          items:
            type: string
            example: 64f1a2cfe2a83c0012345680
          description: ObjectId referencing an address
        deletedAt:
          type: string
          format: date-time
          example: "2023-06-01T12:34:56.789Z"

    DeliveryAddress:
      type: object
      required: [street, zipCode, city, province, country]
      properties:
        street:
          type: string
          example: "123 Main St"
        additionalInfo:
          type: string
          example: "Apt 4B"
        zipCode:
          type: string
          example: "12345"
        city:
          type: string
          example: "Springfield"
        province:
          type: string
          example: "Springfield"
        country:
          type: string
          example: "Springfield"

    AddressBase:
      type: object
      required: [firstName, lastName, deliveryAddress, phoneNumber]
      properties:
        firstName:
          type: string
          example: "Jane"
        lastName:
          type: string
          example: "Doe"
        deliveryAddress:
          $ref: "#/components/schemas/DeliveryAddress"
        phoneNumber:
          type: string
          example: "666666666"
        isDefault:
          type: boolean
          default: false
          example: false
        tags:
          type: array
          maxItems: 5
          items:
            type: string
            example: "home"
        deletedAt:
          type: string
          format: date-time
          example: "2023-06-01T12:34:56.789Z"

    Address:
      allOf:
        - $ref: "#/components/schemas/AddressBase"
        - type: object
          required: [user]
          properties:
            user:
              type: string
              example: 64f1a2cfe2a83c0012345679
              description: ObjectId referencing the user

    # ðŸ“¥ "Inputs" = form inputs data shape
    RegisterUserInput:
      type: object
      required: [firstName, lastName, email, password]
      properties:
        firstName:
          type: string
          example: "Jane"
        lastName:
          type: string
          example: "Doe"
        email:
          type: string
          format: email
          example: "jane.doe@example.com"
        password:
          type: string
          format: password
          example: "StrongPass123!"

    LoginUserInput:
      type: object
      required: [email, password]
      properties:
        email:
          type: string
          format: email
          example: "alice@example.com"
        password:
          type: string
          format: password
          example: "StrongPass123!"

    ForgotPasswordInput:
      type: object
      required: [email]
      properties:
        email:
          type: string
          format: email
          example: "alice@example.com"

    ResetPasswordInput:
      type: object
      required: [token, password]
      properties:
        token:
          type: string
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
          format: jwt
          description: JWT token
        password:
          type: string
          format: password
          example: "StrongPass123!"

    UserProfileInput:
      type: object
      properties:
        firstName:
          type: string
          example: "Jane"
        lastName:
          type: string
          example: "Doe"
        email:
          type: string
          example: "jane.doe@example.com"
        phoneNumber:
          type: string
          example: "666666666"
        addresses:
          type: array
          maxItems: 5
          items:
            type: string
            example: 64f1a2cfe2a83c0012345680
          description: ObjectId referencing an address

    AddressAddInput:
      allOf:
        - $ref: "#/components/schemas/AddressBase"

    AddressDefaultInput:
      type: object
      required: [isDefault]
      properties:
        isDefault:
          type: boolean
          example: true

    # ðŸ“¤ "Outputs" = useful responses for the client
    ProductOutput:
      allOf:
        - $ref: "#/components/schemas/Product"
        - type: object
          required: [id]
          properties:
            id:
              type: string
              example: "64e3cfc2b567b3c5fcd36b92"
              description: ObjectId of the product

    CartOutput:
      allOf:
        - $ref: "#/components/schemas/Cart"
        - type: object
          required: [id]
          properties:
            id:
              type: string
              example: "64e3cfc2b567b3c5fcd36b92"
              description: ObjectId of the cart

    UserProfileOutput:
      type: object
      required: [_id, firstName, lastName, email, addresses]
      properties:
        id:
          type: string
          example: "64f1a2cfe2a83c0012345679"
          description: ObjectId of the user
        firstName:
          type: string
          example: "Jane"
        lastName:
          type: string
          example: "Doe"
        email:
          type: string
          example: "jane.doe@example.com"
        phoneNumber:
          type: string
          example: "666666666"
        addresses:
          type: array
          maxItems: 5
          items:
            $ref: "#/components/schemas/AddressOutput"

    UserInternalOutput:
      type: object
      required: [_id, email, role, authProvider, createdAt, updatedAt]
      properties:
        id:
          type: string
          example: "64f1a2cfe2a83c0012345679"
          description: ObjectId of the user
        email:
          type: string
          example: "jane.doe@example.com"
        role:
          type: string
          enum: [admin, user]
          default: user
          example: user
        authProvider:
          type: string
          enum: [local, google, github]
          default: local
          example: local
        googleId:
          type: string
          example: "1098247023048234028304"
        createdAt:
          type: string
          format: date-time
          example: "2024-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2024-01-01T00:00:00.000Z"
        deletedAt:
          type: string
          format: date-time
          example: "2024-01-01T00:00:00.000Z"

    AddressOutput:
      allOf:
        - $ref: "#/components/schemas/Address"
        - type: object
          required: [id]
          properties:
            id:
              type: string
              example: "64f1a2cfe2a83c0012345680"
              description: ObjectId of the address

    # ðŸ“¡ Structured responses (standardized)
    BaseResponse:
      type: object
      required: [status, code]
      properties:
        status:
          type: string
          example: success
        code:
          type: integer
          example: 200
        message:
          type: string
          example: Operation successful

    PageContextResponse:
      allOf:
        - $ref: "#/components/schemas/BaseResponse"
      type: object
      properties:
        pageContext:
          type: object
          properties:
            page:
              type: integer
              example: 1
            totalPages:
              type: integer
              example: 1
            prevPage:
              type: integer
              example: 1
            nextPage:
              type: integer
              example: 1
            hasPrevPage:
              type: boolean
              example: true
            hasNextPage:
              type: boolean
              example: true
            prevLink:
              type: string
              example: null
            nextLink:
              type: string
              example: "http://localhost:3000/api/products?page=2"
            totalDocs:
              type: integer
              example: 1

    DeleteResponse:
      $ref: "#/components/schemas/BaseResponse"

    ErrorResponse:
      type: object
      required: [status, code, message]
      properties:
        status:
          type: string
          example: error
        code:
          type: integer
          example: 400
        message:
          type: string
          example: Something went wrong

    AllProductsResponse:
      allOf:
        - $ref: "#/components/schemas/PageContextResponse"
        - type: object
          required: [payload]
          properties:
            payload:
              type: array
              items:
                $ref: "#/components/schemas/ProductOutput"

    ProductResponse:
      allOf:
        - $ref: "#/components/schemas/BaseResponse"
        - type: object
          required: [payload]
          properties:
            payload:
              $ref: "#/components/schemas/ProductOutput"

    CartResponse:
      allOf:
        - $ref: "#/components/schemas/BaseResponse"
        - type: object
          required: [payload]
          properties:
            payload:
              $ref: "#/components/schemas/CartOutput"

    UserResponse:
      allOf:
        - $ref: "#/components/schemas/BaseResponse"
        - type: object
          required: [payload]
          properties:
            payload:
              $ref: "#/components/schemas/UserProfileOutput"

    LoginPayload:
      type: object
      required: [token]
      properties:
        token:
          type: string
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
          format: jwt
          description: JWT token

    LoginResponse:
      allOf:
        - $ref: "#/components/schemas/BaseResponse"
        - type: object
          required: [payload]
          properties:
            payload:
              $ref: "#/components/schemas/LoginPayload"

    AddressResponse:
      allOf:
        - $ref: "#/components/schemas/BaseResponse"
        - type: object
          required: [payload]
          properties:
            payload:
              $ref: "#/components/schemas/AddressOutput"

  responses:
    # - Error responses
    BadRequest:
      description: Bad request â€“ invalid or missing data
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          examples:
            badRequest:
              summary: Bad Request example
              value:
                status: error
                code: 400
                message: Invalid or missing data

    NotFound:
      description: Not found
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          examples:
            notFound:
              summary: Not Found example
              value:
                status: error
                code: 404
                message: Resource not found

    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          examples:
            unauthorized:
              summary: Unauthorized example
              value:
                status: error
                code: 401
                message: Unauthorized

    Forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          examples:
            forbidden:
              summary: Forbidden example
              value:
                status: error
                code: 403
                message: Forbidden

    RegisterBadRequest:
      description: Bad request â€“ invalid or missing data
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          examples:
            emptyBody:
              summary: Empty request body
              value:
                status: error
                code: 400
                message: Missing user data in request
            invalidEmailFormat:
              summary: Invalid email format
              value:
                status: error
                code: 400
                message: Email must be a valid email address
            emailInUse:
              summary: Email already in use
              value:
                status: error
                code: 400
                message: Email already in use

    InternalServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          examples:
            internalError:
              summary: Internal Server Error example
              value:
                status: error
                code: 500
                message: Internal server error

    Conflict:
      description: Conflict
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          examples:
            conflict:
              summary: Conflict example
              value:
                status: error
                code: 409
                message: Email already in use

    # - Product responses
    AllProductsFound:
      description: All products found
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/AllProductsResponse"

    ProductCreated:
      description: Product successfully created
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ProductResponse"

    ProductFound:
      description: Product found
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ProductResponse"

    ProductUpdated:
      description: Product successfully updated
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ProductResponse"

    ProductDeleted:
      description: Product successfully deleted
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/DeleteResponse"

    # - Cart responses
    CartCreated:
      description: Cart successfully created
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CartResponse"

    CartFound:
      description: Cart found
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CartResponse"

    CartUpdated:
      description: Cart successfully updated
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CartResponse"

    CartDeleted:
      description: Cart successfully deleted
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/DeleteResponse"

    CartProductAdded:
      description: Product successfully added to the cart
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CartResponse"

    CartProductUpdated:
      description: Product quantity successfully updated in the cart
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CartResponse"

    CartProductDeleted:
      description: Product successfully deleted from the cart
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/DeleteResponse"

    # - Auth responses
    AuthRegister:
      description: User successfully created
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserResponse"

    AuthLogin:
      description: User successfully logged in
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/LoginResponse"

    AuthForgotPassword:
      description: Password reset email sent successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                type: string
                example: success
              code:
                type: integer
                example: 200
              message:
                type: string
                example: Password reset email sent successfully
              payload:
                type: object
                properties:
                  previewURL:
                    type: string
                    example: https://example.com/reset-password?token=123456

    AuthResetPassword:
      description: Password successfully reset
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                type: string
                example: success
              code:
                type: integer
                example: 200
              message:
                type: string
                example: Password successfully reset

    # - User responses
    UserProfileFound:
      description: User profile found
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserResponse"

    UserProfileUpdated:
      description: User profile successfully updated
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserResponse"

    UserProfileDeleted:
      description: User profile successfully deleted
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/DeleteResponse"

    # - Address responses
    AddressFound:
      description: Address found
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/AddressResponse"

    AddressCreated:
      description: Address successfully created
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/AddressResponse"

    AddressUpdated:
      description: Address successfully updated
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/AddressResponse"

    AddressDefaultSet:
      description: Default address successfully updated
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/AddressResponse"

    AddressDeleted:
      description: Address successfully deleted
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/DeleteResponse"
